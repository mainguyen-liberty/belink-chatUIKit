{"version":3,"names":["React","_interopRequireWildcard","require","_reactNative","_reactNativeChatSdk","_reactNativeSafeAreaContext","_chat","_error","_hook","_services","_theme","_Image","_ImagePreview","_utils","_useImageSize","_MessageListItem","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ImageMessagePreview","props","containerStyle","onBack","url","size","useImageMessagePreview","top","useSafeAreaInsets","colors","usePaletteContext","getColor","useColors","icon","light","neutral","dark","createElement","View","style","flexGrow","justifyContent","alignItems","ImagePreview2","source","uri","imageStyle","width","Dimensions","height","Pressable","position","left","onPress","Icon","name","tintColor","msgId","propsMsgId","onError","im","useChatContext","setUrl","useState","undefined","setSize","winWidth","winHeight","useWindowDimensions","getImageSize","useImageSize","showImage","useCallback","getImageSizeFromUrl","LocalPath","_ref","isOk","onGetMessage","getMessage","messageId","then","result","body","type","ChatMessageType","IMAGE","UIKitError","code","ErrorCode","chat_uikit","isExisted","Services","dcs","isExistedFile","localPath","remotePath","messageManager","downloadAttachment","catch","useEffect","listener","onMessageAttachmentChanged","msg","fileStatus","ChatDownloadStatus","SUCCESS","FAILED","addListener","removeListener"],"sourceRoot":"../../../../src","sources":["biz/ConversationDetail/ImageMessagePreview.tsx"],"mappings":"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"}