{"version":3,"names":["React","Pressable","View","ChatDownloadStatus","ChatMessageType","useSafeAreaInsets","gMessageAttributeFileProgress","useChatContext","ErrorCode","UIKitError","useColors","Services","usePaletteContext","Icon","Text","FileMessagePreview","props","containerStyle","children","msgId","propsMsgId","localMsgId","propsLocalMsgId","onBack","im","top","colors","getColor","icon","light","neutral","dark","progress","setProgress","useState","onGetMessage","useCallback","getMessage","messageId","then","result","body","type","FILE","code","chat_uikit","desc","isExisted","dcs","isExistedFile","localPath","messageManager","downloadAttachment","catch","useEffect","listener","onSendMessageChanged","msg","fileStatus","SUCCESS","onSendMessageProgressChanged","_msg$attributes","attributes","onMessageAttachmentChanged","onMessageAttachmentProgressChanged","_msg$attributes2","addListener","removeListener","createElement","style","flexGrow","justifyContent","alignItems","position","width","height","left","onPress","name","tintColor"],"sourceRoot":"../../../../src","sources":["biz/ConversationDetail/FileMessagePreview.tsx"],"mappings":"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"}