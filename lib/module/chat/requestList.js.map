{"version":3,"names":["ChatMessage","ChatMessageType","ChatMultiDeviceEvent","ChatSearchDirection","timeoutTask","gNewRequestConversationId","gNewRequestConversationMsgEventType","gNewRequestConversationState","gNewRequestConversationTip","gNewRequestConversationUserAvatar","gNewRequestConversationUserId","gNewRequestConversationUserName","getNewRequest","gListener","RequestListImpl","_newRequestList","constructor","client","_client","_userList","Map","init","unInit","onContactInvited","bindOnContactInvited","bind","onFriendRequestAccepted","bindOnFriendRequestAccepted","onFriendRequestDeclined","bindOnFriendRequestDeclined","onConversationEvent","bindOnConversationEvent","onContactEvent","bindOnContactEvent","addListener","reset","removeListener","undefined","clear","key","listener","set","delete","emitNewRequestListChanged","values","onNewRequestListChanged","userId","isExisted","findIndex","v","_v$msg","t2","msg","body","type","CUSTOM","_v$msg2","_v$msg3","t3","event","t1","attributes","newMsg","createCustomMessage","item","unshift","insertMessage","message","onResult","request","requestId","state","updateRequest","convId","_convType","CONTACT_ACCEPT","removeRequest","CONTACT_DECLINE","target","_ext","getRequestList","params","length","isOk","value","getNewRequestList","convType","pageSize","direction","UP","result","list","map","filter","uniqueList","index","self","t","name","avatar","tip","localRequest","updateMessage","splice","removeMessage"],"sourceRoot":"../../../src","sources":["chat/requestList.tsx"],"mappings":"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"}